name: 'Repodex SARIF Solver'
description: 'Processes SARIF results from a CodeQL analysis and generates solutions.'
inputs:
  api-key:
    description: 'API key for Repodex service'
    required: true
  sarif-paths:
    description: 'Comma-separated paths to the SARIF files generated by CodeQL analysis'
    required: true
    default: '.github/workflows/codeql-analysis/results.sarif'  # Adjust this if you know there will always be a single default path or you can list multiple by default.
runs:
  using: 'composite'
  steps:
    - run: python index.py
      shell: bash
      env:
        REPODEX_API_KEY: ${{ inputs.api-key }}
        SARIF_FILE_PATHS: ${{ inputs.sarif-paths }}
